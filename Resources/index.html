<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>Golingo</title>
        <script type="text/javascript" src="js/jquery-1.4.2.js"></script>
        <script type="text/javascript" src="js/lowpro.jquery.js"></script>
        <script type="text/javascript" src="js/utils.js"></script>
        <link href="css/game.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <script type="text/javascript" src="js/seedrandom.js"></script>
        <script type="text/javascript" src="js/golingo.js"></script>
        <script type="text/javascript" src="js/board.js"></script>
        <script type="text/javascript" src="js/letter.js"></script>
        <script type="text/javascript" src="js/draggable.js"></script>
        <script type="text/javascript">
            if(!Ti){
                // Shim to make it run in browser
                var fakeTi = true;
                var Ti = {
                    API: {
                        debug: function(msg){
                            console.debug(msg);
                        }
                    },
                    App: {
                        addEventListener: function(name, func){
                            $(document).bind(name, func);
                        },
                        fireEvent: function(name, data){
                            $(document).trigger(name, [data]);
                        }
                    }
                };
            }
            $('body').attach(Golingo);
            if(fakeTi){
                // Continue shim
                Ti.App.fireEvent('web', {
                    func: 'gameDataReceived',
                    data: {
                        alpha: {
                            a: { freq: 9.3 , vowel: 1, force: "" },
                            b: { freq: 1.3 , vowel: 0, force: "" },
                            c: { freq: 1.3 , vowel: 0, force: "kd" },
                            d: { freq: 4.5 , vowel: 0, force: "" },
                            e: { freq: 9.9 , vowel: 1, force: "" },
                            f: { freq: 2 , vowel: 0, force: "" },
                            g: { freq: 3.3 , vowel: 0, force: "" },
                            h: { freq: 2.1 , vowel: 0, force: "" },
                            i: { freq: 5.1 , vowel: 1, force: "" },
                            j: { freq: 0.7 , vowel: 0, force: "" },
                            k: { freq: 3.2 , vowel: 0, force: "" },
                            l: { freq: 5.2 , vowel: 0, force: "" },
                            m: { freq: 3.5 , vowel: 0, force: "" },
                            n: { freq: 8.8 , vowel: 0, force: "" },
                            o: { freq: 4.1 , vowel: 1, force: "" },
                            p: { freq: 1.7 , vowel: 0, force: "" },
                            r: { freq: 8.3 , vowel: 0, force: "" },
                            s: { freq: 6.3 , vowel: 0, force: "" },
                            t: { freq: 8.7 , vowel: 0, force: "" },
                            u: { freq: 1.8 , vowel: 1, force: "" },
                            v: { freq: 2.4 , vowel: 0, force: "" },
                            x: { freq: 0.1 , vowel: 0, force: "" },
                            y: { freq: 0.6 , vowel: 1, force: "" },
                            z: { freq: 0.02 , vowel: 0, force: "" },
                            å: { freq: 1.6 , vowel: 1, force: "" },
                            ä: { freq: 2.1 , vowel: 1, force: "" },
                            ö: { freq: 1.5 , vowel: 1, force: "" }
                        },
                        players: ['krawaller'],
                        t: {
                            mainMenu: "Main Menu",
                            restart: "Restart",
                            resume: "Resume",
                            winner: 'You win',
                            loser: 'You lose',
                            numWords: 'Word amount',
                            longestWord: 'Longest word',
                            duration: 'Duration',
                            newGame: 'New game',
                            saveScore: 'Save score',
                            beat: 'Beat',
                            failed: 'Failed',
                            by: 'by',
                            
                            timePoints: 'time',
                            wordPoints: 'word',
                            shortestWordLength: 'min',
                            longestWordLength: 'max',
                            avgWordLength: 'avg',
                            totalScore: 'tot',
                            
                            gameTimeExp: 'Time points rewarded',
                            wordPointsExp: 'Number of unique words / 3',
                            shortestWordExp: 'Length of shortest word',
                            longestWordExp: 'Length of longest word',
                            avgWordLengthExp: 'Averge word length',
                            totalScoreExp: 'Total score',
                            
                            you: 'You',
                            got: 'got',
                            points: 'points',
                            
                            tryAgain: 'Try Again'
                        },
                        seed: "394536488" //Math.random()
                    }
                });
                
                Ti.App.addEventListener('app', function(blabla, e){
                    switch(e.func){
                        case 'checkWords':
                        e.data.words = ['some', 'random', 'words'];
                        e.func = null;
                        Ti.App.fireEvent('web', e);
                        break;
                    }
                })
            }
            
        </script> 
    </body>
</html>